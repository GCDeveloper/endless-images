(this.webpackJsonploremimage=this.webpackJsonploremimage||[]).push([[0],[,,,function(e,t,s){e.exports=s.p+"static/media/caret-down.8749d91d.svg"},function(e,t,s){e.exports=s.p+"static/media/loading.51149a8e.gif"},,,function(e,t,s){e.exports=s(14)},,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var i=s(0),a=s.n(i),r=s(2),n=s.n(r),o=(s(12),s(5)),l=s(6),c=(s(13),s(3)),h=s.n(c),m=s(4),d=s.n(m);class p extends i.Component{constructor(e){super(e),this.state={loaded:!1}}getSrc(e){const t=["","dog","hill","city","animal","people","car","person","weather","light","food","autumn","tree","plants","jungle","music","asia","temple","church","art","science","architecture","building","plane","sky","cloud","sunset","moon","earth","stars","galaxy","culture","religion","bird","castle","flower"],s=t[Math.floor(Math.random()*t.length)];return this.props.numberId>=1080?"https://loremflickr.com/".concat(this.props.size,"/").concat(this.props.size,"/").concat(s,"?random=").concat(e+(new Date).getTime()):"https://picsum.photos/".concat(this.props.size,"/").concat(this.props.size,"/?image=").concat((e+this.props.numberId)%1080)}render(){const e=this.getSrc(this.props.seed);return a.a.createElement(l.a,null,({inView:t,ref:s})=>(this.props.isInView(t),a.a.createElement("article",{className:"image-article",ref:s},a.a.createElement("img",{className:"image-random",src:e,loading:"lazy",onError:e=>{e.target.src=this.getSrc(Math.floor(99999*Math.random()))},onLoad:e=>{this.setState({loaded:!0})},alt:"random"}),this.state.loaded?null:a.a.createElement("img",{src:d.a,alt:"Loading...",className:"loading-icon"}))))}}class g extends i.Component{constructor(){super(),this.seed=Math.floor(1e4*Math.random()),this.width=window.innerWidth,this.height=window.innerHeight,this.imageSizeMultiplier=.5,this.lastScrollY=window.scrollY,this.restrictScroll=!1,this.state={size:Math.floor(this.width*this.imageSizeMultiplier)},this.state=Object(o.a)({},this.state,{images:this.createImages(0,3),lastId:2})}componentDidMount(){window.addEventListener("scroll",()=>this.onScroll()),window.addEventListener("resize",()=>this.onResize())}componentWillUnmount(){window.removeEventListener("scroll",()=>this.onScroll()),window.removeEventListener("resize",()=>this.onResize())}onScroll(){if(this.restrictScroll){const e=window.scrollY-this.lastScrollY;0!==e&&Math.abs(e)<.5*window.innerHeight&&(this.restrictScroll=!1),e<0&&Math.abs(e)>=.6*window.innerHeight&&window.scrollBy(0,-e)}this.lastScrollY=window.scrollY}onResize(){this.width=window.innerWidth,this.height=window.innerHeight,this.setState({size:Math.floor(this.width*this.imageSizeMultiplier)})}createImage(e,t){return a.a.createElement(p,{key:"img-"+e,numberId:e,size:Math.max(t,540),seed:this.seed,isInView:t=>{if(t&&e>=this.state.lastId-2){let e=[...this.state.images,...this.createImages(this.state.lastId+1,3)];this.setState({images:e,lastId:this.state.lastId+3})}}})}createImages(e,t){let s=[];for(let i=0;i<t;i++){const t=i+e;let a=this.createImage(t,this.state.size);s.push({id:t,Image:a})}return s}render(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},"Welcome to Lorem Image"),a.a.createElement("img",{src:h.a,alt:"go down",className:"caret-down",onClick:()=>{const e=window.scrollY,t=this.height;let s=0;const i=()=>{const a=function(e){return e<.5?2*e*e:(4-2*e)*e-1}(s/48);a<1?(document.documentElement.scrollTop=Math.round(e+(t-e)*a),requestAnimationFrame(i)):this.restrictScroll=!0,s++};i()}}),a.a.createElement("p",{id:"thanks"},"Images thanks to"," ",a.a.createElement("a",{href:"https://picsum.photos",target:"_blank",rel:"noopener noreferrer"},"Lorem Picsum")," ","and"," ",a.a.createElement("a",{href:"https://loremflickr.com/",target:"_blank",rel:"noopener noreferrer"},"LoremFlickr"),"."),this.state.images.map(({Image:e})=>e))}}var u=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(a.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}],[[7,1,2]]]);
//# sourceMappingURL=main.e5977363.chunk.js.map